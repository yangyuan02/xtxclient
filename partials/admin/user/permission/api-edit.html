<div class="permission-api-edit" ng-init="permissionAction.getPermission()">
  <div class="page-title">
    <h3>{{ permission.name || '权限' }}API<span class="small muted">（{{ permission.description || '获取中' }}）</span></h3>
  </div>
  <div class="page-action clearfix">
    <div class="pull-left">
      <a class="btn btn-sm btn-default" href="/user/manage/permission/list">返回</a>
      <button class="btn btn-primary" ng-click="permissionAction.edit_apis()">保存</button>
    </div>
  </div>
  <div class="page-content">
    <div class="panel panel-sm panel-default no-animation" ng-if="!role">
      <div class="panel-heading">选择API</div>
      <div class="panel-body no-animation" ng-if="!$root.api_list || !permission">数据加载中</div>
      <div class="panel-body">
        <p ng-if="$root.api_list && permission"
           ng-repeat="api in $root.api_list track by $index" 
           class="slide-down">
          <label>
            <input type="checkbox" 
                   name="api_list_{{ $index }}" 
                   ng-init="api.checked = (permission.grant_apis.contain(api.id, 'id'))"
                   ng-model="api.checked" >
            <span>{{ api.name }}</span>
          </label>
        </p>
      </div>
    </div>
    <button class="btn btn-primary" ng-click="permissionAction.editApis()">提交保存</button>
  </div>
</div>