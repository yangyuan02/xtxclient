<div class="sidebar" ng-controller="AsideController">
  <div class="sub-navbar">
    <div class="menu-box slide-down" ng-repeat="node in aside_menus">
      <h4 ng-click="$parent.is_collapsed = !$parent.is_collapsed" 
          ng-init="$parent.is_collapsed = false"
          ng-if="node.type == 2">
        <i class="icon" 
           ng-class="{ true: 'icon-foldplus', false: 'icon-foldminus' }[$parent.is_collapsed]"></i>{{ node.name }}
      </h4>
      <ul class="sub-menu slide-down" 
          ng-hide="is_collapsed" 
          ng-if="!!node.children.length">
        <li ng-repeat="page in node.children" 
            ng-if="page.type == 3" 
            ng-class="{ 'active': page.slug == state.name || page.slug == state.data.name || (default_active && $first && $parent.$parent.$first) }" >
          <a ng-href="{{ page.url }}">{{ page.name }}<i class="icon icon-arrow-right-sm"></i></a>
        </li>
      </ul>
    </div>
  </div>
</div>